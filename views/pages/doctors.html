<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Doctors | Ginger Admin</title><link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/admin.css"></head><body><div class="layout"><aside class="sidebar" id="sidebar"><div class="sidebar__logo"><div class="sidebar__logo-icon">G</div><div class="sidebar__logo-text"><span>Ginger</span> <span>Admin</span></div></div><nav class="sidebar__nav"><a href="/" class="sidebar__link"><span class="sidebar__link-icon">ğŸ“Š</span> Dashboard</a><div class="sidebar__section">Content</div><a href="/blog" class="sidebar__link"><span class="sidebar__link-icon">ğŸ“</span> Blog</a><a href="/testimonials" class="sidebar__link"><span class="sidebar__link-icon">â­</span> Testimonials</a><a href="/hospitals" class="sidebar__link"><span class="sidebar__link-icon">ğŸ¥</span> Hospitals</a><a href="/doctors" class="sidebar__link active"><span class="sidebar__link-icon">ğŸ‘¨â€âš•ï¸</span> Doctors</a><div class="sidebar__section">Management</div><a href="/submissions" class="sidebar__link"><span class="sidebar__link-icon">ğŸ“‹</span> Submissions</a><a href="/page-content" class="sidebar__link"><span class="sidebar__link-icon">ğŸ“„</span> Page Content</a><a href="/media" class="sidebar__link"><span class="sidebar__link-icon">ğŸ–¼ï¸</span> Media</a><div class="sidebar__section">Tools</div><a href="/ai-assistant" class="sidebar__link"><span class="sidebar__link-icon">ğŸ¤–</span> Claude AI</a><a href="/users" class="sidebar__link"><span class="sidebar__link-icon">ğŸ‘¥</span> Users</a></nav><div class="sidebar__footer"><a href="/logout" class="sidebar__logout">Logout â†’</a></div></aside><main class="main"><header class="topbar"><button class="topbar__menu" onclick="document.getElementById('sidebar').classList.toggle('open')">â˜°</button><h1 class="topbar__title">Doctors</h1><div class="topbar__actions"><button class="btn btn--primary" onclick="openModal()">+ Add Doctor</button></div></header><div class="content"><div class="card"><div class="card__body"><table class="data-table"><thead><tr><th>Doctor</th><th>Specialty</th><th>Hospital</th><th>Experience</th><th>Status</th><th>Actions</th></tr></thead><tbody id="list"><tr><td colspan="6" class="loading">Loading...</td></tr></tbody></table></div></div></div>
<div class="modal-overlay" id="modal"><div class="modal"><div class="modal__header"><h3 id="modalTitle">Add Doctor</h3><button class="modal__close" onclick="closeModal()">âœ•</button></div><div class="modal__body">
<div class="form-row"><div class="form-group"><label class="form-label">Full Name</label><input type="text" class="form-input" id="f_name" oninput="document.getElementById('f_slug').value=this.value.toLowerCase().replace(/[^a-z0-9]+/g,'-')"></div><div class="form-group"><label class="form-label">Title</label><input type="text" class="form-input" id="f_title" placeholder="e.g. Senior Consultant"></div></div>
<div class="form-row"><div class="form-group"><label class="form-label">Slug</label><input type="text" class="form-input" id="f_slug"></div><div class="form-group"><label class="form-label">Specialty</label><input type="text" class="form-input" id="f_specialty"></div></div>
<div class="form-row"><div class="form-group"><label class="form-label">Country</label><select class="form-select" id="f_country"><option>India</option><option>Turkey</option><option>Thailand</option><option>UAE</option><option>Singapore</option></select></div><div class="form-group"><label class="form-label">Experience (years)</label><input type="number" class="form-input" id="f_exp"></div></div>
<div class="form-group"><label class="form-label">Description</label><textarea class="form-textarea" id="f_desc" style="min-height:80px"></textarea></div>
<div class="form-group"><label class="form-label">Status</label><select class="form-select" id="f_status"><option value="draft">Draft</option><option value="published">Published</option></select></div>
</div><div class="modal__footer"><button class="btn btn--outline" onclick="closeModal()">Cancel</button><button class="btn btn--primary" onclick="saveItem()">Save</button></div></div></div></main></div>
<script>let items=[],editId=null;
async function load(){const r=await fetch('/api/doctors');items=await r.json();const tb=document.getElementById('list');if(!items.length){tb.innerHTML='<tr><td colspan="6" class="empty-state">No doctors yet</td></tr>';return}
tb.innerHTML=items.map(d=>`<tr><td><strong>${d.name}</strong><br><span style="font-size:.75rem;color:var(--gray-400)">${d.title||''}</span></td><td>${d.specialty||'-'}</td><td>${d.hospital_name||'-'}</td><td>${d.experience_years?d.experience_years+' yrs':'-'}</td><td><span class="badge badge--${d.status}">${d.status}</span></td><td><button class="btn btn--outline btn--sm" onclick="editItem(${d.id})">Edit</button> <button class="btn btn--danger btn--sm" onclick="deleteItem(${d.id})">ğŸ—‘</button></td></tr>`).join('')}
function openModal(){editId=null;document.getElementById('modal').classList.add('open');['f_name','f_slug','f_title','f_specialty','f_exp','f_desc'].forEach(f=>document.getElementById(f).value='')}
function closeModal(){document.getElementById('modal').classList.remove('open')}
function editItem(id){const d=items.find(i=>i.id===id);if(!d)return;editId=id;document.getElementById('modal').classList.add('open');document.getElementById('f_name').value=d.name;document.getElementById('f_slug').value=d.slug;document.getElementById('f_title').value=d.title||'';document.getElementById('f_specialty').value=d.specialty||'';document.getElementById('f_country').value=d.country||'India';document.getElementById('f_exp').value=d.experience_years||'';document.getElementById('f_desc').value=d.description||'';document.getElementById('f_status').value=d.status}
async function saveItem(){const data={name:document.getElementById('f_name').value,slug:document.getElementById('f_slug').value,title:document.getElementById('f_title').value,specialty:document.getElementById('f_specialty').value,country:document.getElementById('f_country').value,experience_years:parseInt(document.getElementById('f_exp').value)||null,description:document.getElementById('f_desc').value,status:document.getElementById('f_status').value};
const url=editId?'/api/doctors/'+editId:'/api/doctors';const method=editId?'PUT':'POST';const r=await fetch(url,{method,headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(r.ok){closeModal();load()}else{alert('Error')}}
async function deleteItem(id){if(!confirm('Delete?'))return;await fetch('/api/doctors/'+id,{method:'DELETE'});load()}
load();</script></body></html>
