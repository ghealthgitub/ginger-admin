<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Theme Templates | Ginger Admin</title>
<link rel="stylesheet" href="/css/admin.css">
<script src="/js/sidebar.js" defer></script>
<style>
.tt-page{max-width:1200px;margin:0 auto;padding:24px}
.tt-tabs{display:flex;gap:4px;overflow-x:auto;padding-bottom:2px;border-bottom:2px solid #F3F4F6;margin-bottom:24px}
.tt-tab{padding:10px 18px;font-size:.85rem;font-weight:500;color:#6B7280;border-radius:8px 8px 0 0;cursor:pointer;white-space:nowrap;transition:all .2s;border:none;background:none;border-bottom:2px solid transparent;margin-bottom:-2px}
.tt-tab:hover{color:#0B2545;background:#F9FAFB}
.tt-tab.active{color:#0EA5A0;border-bottom-color:#0EA5A0;font-weight:600;background:rgba(14,165,160,.05)}
.tt-badge{display:inline-block;background:#E5E7EB;color:#4B5563;font-size:.72rem;padding:1px 6px;border-radius:10px;margin-left:6px}
.tt-tab.active .tt-badge{background:#0EA5A0;color:#fff}
.tt-card{background:#fff;border:1px solid #E5E7EB;border-radius:12px;overflow:hidden;margin-bottom:20px}
.tt-hdr{padding:16px 20px;border-bottom:1px solid #F3F4F6;display:flex;justify-content:space-between;align-items:center}
.tt-hdr-title{font-weight:600;color:#0B2545}
.tt-hdr-desc{font-size:.82rem;color:#9CA3AF;margin-top:2px}
.tt-hdr-acts{display:flex;gap:8px;align-items:center}
.tt-vars{background:#F9FAFB;border-bottom:1px solid #F3F4F6;padding:12px 20px}
.tt-vars b{font-size:.82rem;color:#0B2545;margin-right:8px}
.tt-var{display:inline-block;background:#fff;border:1px solid #E5E7EB;padding:3px 8px;border-radius:5px;font-size:.75rem;font-family:monospace;color:#4B5563;cursor:pointer;margin:2px;transition:all .15s}
.tt-var:hover{background:#0EA5A0;color:#fff;border-color:#0EA5A0}
.tt-editor textarea{width:100%;min-height:350px;font-family:'Consolas','Monaco',monospace;font-size:.82rem;line-height:1.6;padding:16px 20px;border:none;outline:none;resize:vertical;background:#1e1e2e;color:#cdd6f4;display:block;box-sizing:border-box}
.tt-css-hdr{padding:6px 20px;background:#F9FAFB;font-size:.78rem;color:#6B7280;font-weight:600;border-top:1px solid #E5E7EB}
.tt-css textarea{min-height:100px}
.tt-foot{padding:10px 20px;border-top:1px solid #F3F4F6;display:flex;justify-content:space-between;font-size:.82rem;color:#9CA3AF}
.tt-saved{color:#059669;font-weight:600;display:none}
.tt-toggle{position:relative;width:42px;height:22px;border-radius:11px;background:#D1D5DB;cursor:pointer;transition:background .2s;flex-shrink:0}
.tt-toggle.on{background:#0EA5A0}
.tt-toggle::after{content:'';position:absolute;top:2px;left:2px;width:18px;height:18px;border-radius:50%;background:#fff;transition:left .2s;box-shadow:0 1px 3px rgba(0,0,0,.15)}
.tt-toggle.on::after{left:22px}
.btn-save{background:#0EA5A0;color:#fff;border:none;padding:8px 20px;border-radius:8px;font-weight:600;font-size:.82rem;cursor:pointer}
.btn-save:hover{background:#0c918c}
.btn-rst{background:transparent;color:#6B7280;border:1px solid #E5E7EB;padding:6px 14px;border-radius:8px;font-size:.8rem;cursor:pointer}
.btn-rst:hover{background:#F9FAFB}
.tt-info{background:#EFF6FF;border:1px solid #BFDBFE;border-radius:8px;padding:14px 16px;font-size:.85rem;color:#1E40AF;margin-bottom:20px;line-height:1.6}
</style>
</head><body>
<aside class="sidebar" id="sidebar"></aside>
<main class="main">
<header class="topbar">
    <button class="topbar__menu" onclick="document.getElementById('sidebar').classList.toggle('open')">â˜°</button>
    <h1 class="topbar__title">ğŸ¨ Theme Templates</h1>
    <div class="topbar__actions">
        <a href="https://ginger.healthcare/?bypass=ginger2026" target="_blank" class="btn btn--teal" style="font-size:.82rem">ğŸŒ Preview Site</a>
    </div>
</header>
<div class="tt-page">

<div class="tt-info">
    <strong>ğŸ¨ Theme Templates</strong> control the layout of every page on your website â€” like Elementor's Theme Builder.
    Edit a template here, and it instantly applies to <strong>all pages</strong> of that type.
    Use <code style="background:rgba(0,0,0,.06);padding:2px 6px;border-radius:4px">{{ variable }}</code> placeholders for dynamic content. Click any variable tag to copy it.
</div>

<div class="tt-tabs">
    <button class="tt-tab active" onclick="switchCat('detail',this)">ğŸ“„ Detail Pages <span class="tt-badge">6</span></button>
    <button class="tt-tab" onclick="switchCat('listing',this)">ğŸ“‹ Listing Pages <span class="tt-badge">4</span></button>
    <button class="tt-tab" onclick="switchCat('page',this)">ğŸ“ Static Pages <span class="tt-badge">3</span></button>
</div>

<div id="container"></div>

</div>
</main>
<script id="tpl-defaults" type="application/json">{"blog-detail": "<div class=\"page-hero blog-hero\">\n    <div class=\"page-hero__inner\">\n        <div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ <a href=\"/blog/\">Blog</a> â†’ <%= post.title %></div>\n        <% if(post.category) { %><span style=\"display:inline-block;padding:4px 14px;background:rgba(14,165,160,.2);border:1px solid rgba(14,165,160,.3);border-radius:50px;font-size:.78rem;font-weight:600;color:#14B8B3;margin-bottom:12px\"><%= post.category %></span><% } %>\n        <h1 style=\"max-width:800px;margin:0 auto 16px\"><em><%= post.title %></em></h1>\n        <div class=\"blog-meta\">\n            <div class=\"blog-meta__author\">\n                <div class=\"blog-meta__avatar\"><%= (post.author_name || 'GH').split(' ').map(n=>n[0]).join('') %></div>\n                <span>By <strong style=\"color:rgba(255,255,255,.8)\"><%= post.author_name || 'Ginger Healthcare' %></strong></span>\n            </div>\n            <span>Â·</span>\n            <span>ğŸ“– <%= post.read_time || 5 %> min read</span>\n            <% if(post.published_at) { %><span>Â·</span><span>ğŸ“… <%= new Date(post.published_at).toLocaleDateString('en-US', {month:'long', day:'numeric', year:'numeric'}) %></span><% } %>\n        </div>\n    </div>\n</div>\n\n<div class=\"blog-cover\">\n    <% if(post.cover_image) { %>\n        <img src=\"<%= post.cover_image %>\" alt=\"<%= post.title %>\">\n    <% } else { %>\n        <div class=\"blog-cover--placeholder\"><span>ğŸ“</span></div>\n    <% } %>\n</div>\n\n<article class=\"blog-article\">\n    <%- post.content || '<p>Content coming soon.</p>' %>\n</article>\n\n<div class=\"blog-author-card\">\n    <div class=\"blog-author-card__inner\">\n        <div class=\"blog-author-card__info\">\n            <div class=\"blog-author-card__avatar\"><%= (post.author_name || 'GH').split(' ').map(n=>n[0]).join('') %></div>\n            <div>\n                <div class=\"blog-author-card__name\"><%= post.author_name || 'Ginger Healthcare' %></div>\n                <div class=\"blog-author-card__role\">Medical Tourism Expert</div>\n            </div>\n        </div>\n        <a href=\"/get-quote/\" class=\"btn btn--primary\">ğŸ“‹ Get Free Quote</a>\n    </div>\n</div>", "destination-detail": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ <a href=\"/destinations/\">Destinations</a> â†’ <%= destination.name %></div><h1><%= destination.flag %> Medical Tourism in <em><%= destination.name %></em></h1><p><%= destination.tagline %></p></div></div>\n<div class=\"section\">\n    <div class=\"grid-3\" style=\"margin-bottom:40px\">\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ¥</div><div class=\"info-card__title\"><%= destination.hospital_count %>+ Hospitals</div><div class=\"info-card__text\">JCI & NABH accredited</div></div>\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ’°</div><div class=\"info-card__title\">Save <%= destination.avg_savings %></div><div class=\"info-card__text\">Compared to USA/UK prices</div></div>\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ‘¨â€âš•ï¸</div><div class=\"info-card__title\"><%= destination.doctor_count %>+ Doctors</div><div class=\"info-card__text\">Internationally trained specialists</div></div>\n    </div>\n    <% if (destination.description) { %>\n    <div class=\"content-section\" style=\"padding:0 0 40px\"><h2>Why Choose <%= destination.name %>?</h2><p><%= destination.description %></p></div>\n    <% } %>\n    <% if (hospitals.length > 0) { %>\n    <h2 style=\"font-family:var(--font-display);color:var(--navy);margin-bottom:20px\">ğŸ¥ Top Hospitals in <%= destination.name %></h2>\n    <div class=\"grid-3\" style=\"margin-bottom:40px\">\n        <% hospitals.forEach(h => { %>\n        <a href=\"/hospitals/<%= h.slug %>/\" class=\"info-card\"><div class=\"info-card__icon\">ğŸ¥</div><div class=\"info-card__title\"><%= h.name %></div><div class=\"info-card__text\"><%= h.city %> Â· <%= (h.accreditations||[]).join(', ') %></div><div class=\"info-card__meta\"><%= h.beds %> beds Â· Est. <%= h.established %></div></a>\n        <% }); %>\n    </div>\n    <% } %>\n    <% if (doctors.length > 0) { %>\n    <h2 style=\"font-family:var(--font-display);color:var(--navy);margin-bottom:20px\">ğŸ‘¨â€âš•ï¸ Top Doctors in <%= destination.name %></h2>\n    <div class=\"grid-3\" style=\"margin-bottom:40px\">\n        <% doctors.forEach(d => { %>\n        <a href=\"/doctors/<%= d.slug %>/\" class=\"info-card\"><div class=\"info-card__icon\">ğŸ‘¨â€âš•ï¸</div><div class=\"info-card__title\"><%= d.name %></div><div class=\"info-card__text\"><%= d.specialty %></div><div class=\"info-card__meta\"><%= d.experience_years %> yrs exp Â· <%= d.hospital_name %></div></a>\n        <% }); %>\n    </div>\n    <% } %>\n    <div style=\"text-align:center;padding:20px 0\"><a href=\"/get-quote/\" class=\"btn btn--primary btn--large\">ğŸ“‹ Get Free Quote for <%= destination.name %></a></div>\n</div>", "specialty-detail": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ <a href=\"/specialties/\">Specialties</a> â†’ <%= specialty.name %></div><h1><%= specialty.icon %> <em><%= specialty.name %></em></h1><p><%= specialty.description || 'World-class ' + specialty.name + ' treatment abroad' %></p></div></div>\n<div class=\"section\">\n    <% if (specialty.long_description) { %><div class=\"content-section\" style=\"padding:0 0 40px\"><p><%- specialty.long_description %></p></div><% } %>\n    <% if (treatments.length > 0) { %>\n    <h2 style=\"font-family:var(--font-display);color:var(--navy);margin-bottom:20px\">Treatments Under <%= specialty.name %></h2>\n    <div class=\"grid-3\" style=\"margin-bottom:40px\">\n        <% treatments.forEach(t => { %>\n        <a href=\"/treatments/<%= t.slug %>/\" class=\"info-card\">\n            <div class=\"info-card__title\"><%= t.name %></div>\n            <div class=\"info-card__text\"><%= (t.description || '').substring(0,100) %></div>\n            <% if(t.cost_range_usd) { %><div style=\"color:var(--ginger);font-weight:700;margin-top:8px\">From <%= t.cost_range_usd %></div><% } %>\n            <div class=\"info-card__meta\"><%= t.duration || '' %> Â· <%= t.recovery_time || '' %></div>\n        </a>\n        <% }); %>\n    </div>\n    <% } %>\n    <div style=\"text-align:center;padding:20px 0\"><a href=\"/get-quote/\" class=\"btn btn--primary btn--large\">ğŸ“‹ Get Free Quote for <%= specialty.name %></a></div>\n</div>", "treatment-detail": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ <a href=\"/specialties/\">Specialties</a> â†’ <%= treatment.name %></div><h1><%= treatment.specialty_icon || 'ğŸ©º' %> <em><%= treatment.name %></em></h1><p><%= treatment.description || 'Affordable ' + treatment.name + ' treatment abroad' %></p></div></div>\n<div class=\"section\">\n    <div class=\"grid-3\" style=\"margin-bottom:40px\">\n        <% if(treatment.cost_range_usd) { %><div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ’°</div><div class=\"info-card__title\">From <%= treatment.cost_range_usd %></div><div class=\"info-card__text\">All-inclusive pricing</div></div><% } %>\n        <% if(treatment.duration) { %><div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">â±ï¸</div><div class=\"info-card__title\"><%= treatment.duration %></div><div class=\"info-card__text\">Procedure duration</div></div><% } %>\n        <% if(treatment.recovery_time) { %><div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ </div><div class=\"info-card__title\"><%= treatment.recovery_time %></div><div class=\"info-card__text\">Recovery time</div></div><% } %>\n    </div>\n    <% if(treatment.long_description) { %><div class=\"content-section\" style=\"padding:0 0 40px\"><%- treatment.long_description %></div><% } %>\n    <% if(costs.length > 0) { %>\n    <h2 style=\"font-family:var(--font-display);color:var(--navy);margin-bottom:20px\">ğŸ’° Cost by Destination</h2>\n    <div class=\"grid-3\" style=\"margin-bottom:40px\"><% costs.forEach(c => { %>\n        <div class=\"info-card\" style=\"text-align:center\"><div style=\"font-size:1.5rem;margin-bottom:6px\"><%= c.dest_flag %></div><div class=\"info-card__title\"><%= c.dest_name %></div><div style=\"color:var(--ginger);font-family:var(--font-display);font-size:1.4rem;font-weight:700;margin:8px 0\">$<%= (c.cost_min_usd||0).toLocaleString() %> â€“ $<%= (c.cost_max_usd||0).toLocaleString() %></div><div class=\"info-card__text\"><%= c.includes || '' %></div></div>\n    <% }); %></div>\n    <% } %>\n    <div style=\"text-align:center;padding:20px 0\"><a href=\"/get-quote/\" class=\"btn btn--primary btn--large\">ğŸ“‹ Get Free Quote for <%= treatment.name %></a></div>\n</div>", "hospital-detail": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ <a href=\"/destinations/\">Hospitals</a> â†’ <%= hospital.name %></div><h1>ğŸ¥ <em><%= hospital.name %></em></h1><p><%= hospital.city %>, <%= hospital.country %></p></div></div>\n<div class=\"section\">\n    <div class=\"grid-4\" style=\"margin-bottom:40px\">\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ›ï¸</div><div class=\"info-card__title\"><%= hospital.beds || 'N/A' %> Beds</div></div>\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ“…</div><div class=\"info-card__title\">Est. <%= hospital.established || 'N/A' %></div></div>\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">â­</div><div class=\"info-card__title\"><%= hospital.rating || 'N/A' %> Rating</div></div>\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ…</div><div class=\"info-card__title\"><%= (hospital.accreditations||[]).join(', ') || 'N/A' %></div></div>\n    </div>\n    <% if(hospital.description) { %><div class=\"content-section\" style=\"padding:0 0 40px\"><p><%= hospital.description %></p></div><% } %>\n    <% if(doctors.length > 0) { %>\n    <h2 style=\"font-family:var(--font-display);color:var(--navy);margin-bottom:20px\">ğŸ‘¨â€âš•ï¸ Doctors at <%= hospital.name %></h2>\n    <div class=\"grid-3\" style=\"margin-bottom:40px\"><% doctors.forEach(d => { %>\n        <a href=\"/doctors/<%= d.slug %>/\" class=\"info-card\"><div class=\"info-card__icon\">ğŸ‘¨â€âš•ï¸</div><div class=\"info-card__title\"><%= d.name %></div><div class=\"info-card__text\"><%= d.specialty %> Â· <%= d.experience_years %> yrs</div></a>\n    <% }); %></div>\n    <% } %>\n    <div style=\"text-align:center;padding:20px 0\"><a href=\"/get-quote/\" class=\"btn btn--primary btn--large\">ğŸ“‹ Get Quote from <%= hospital.name %></a></div>\n</div>", "doctor-detail": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ Doctors â†’ <%= doctor.name %></div><h1>ğŸ‘¨â€âš•ï¸ <em><%= doctor.name %></em></h1><p><%= doctor.title || doctor.specialty %></p></div></div>\n<div class=\"section\">\n    <div class=\"grid-3\" style=\"margin-bottom:40px\">\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ“</div><div class=\"info-card__title\"><%= doctor.specialty %></div><div class=\"info-card__text\">Specialization</div></div>\n        <div class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ“…</div><div class=\"info-card__title\"><%= doctor.experience_years %>+ Years</div><div class=\"info-card__text\">Experience</div></div>\n        <% if(doctor.hospital_name) { %><a href=\"/hospitals/<%= doctor.hospital_slug %>/\" class=\"info-card\" style=\"text-align:center\"><div class=\"info-card__icon\">ğŸ¥</div><div class=\"info-card__title\"><%= doctor.hospital_name %></div><div class=\"info-card__text\">Hospital</div></a><% } %>\n    </div>\n    <% if(doctor.description) { %><div class=\"content-section\" style=\"padding:0 0 40px\"><p><%= doctor.description %></p></div><% } %>\n    <% if(doctor.qualifications && doctor.qualifications.length) { %><div class=\"content-section\" style=\"padding:0 0 40px\"><h3>Qualifications</h3><ul><% doctor.qualifications.forEach(q => { %><li><%= q %></li><% }); %></ul></div><% } %>\n    <div style=\"text-align:center;padding:20px 0\"><a href=\"/book-consultation/\" class=\"btn btn--primary btn--large\">ğŸ“ Book Consultation with <%= doctor.name %></a></div>\n</div>", "blog-list": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ Blog</div><h1>Health & <em>Travel Insights</em></h1><p>Expert guides, patient stories, and tips for your medical journey</p></div></div>\n<div class=\"section\">\n    <% if(posts.length === 0) { %><div style=\"text-align:center;padding:40px;color:var(--gray-400)\">No blog posts yet. Check back soon!</div><% } %>\n    <div class=\"blog-grid\">\n        <% posts.forEach(p => { %>\n        <a href=\"/blog/<%= p.slug %>/\" class=\"blog-card\">\n            <div class=\"blog-card__img\" style=\"background:linear-gradient(135deg,#134e6f,#0B2545)\"><span>ğŸ“</span><% if(p.category){ %><div class=\"blog-card__badge\" style=\"background:var(--teal)\"><%= p.category %></div><% } %></div>\n            <div class=\"blog-card__body\"><div class=\"blog-card__title\"><%= p.title %></div><div class=\"blog-card__excerpt\"><%= (p.excerpt||'').substring(0,120) %></div><div class=\"blog-card__footer\"><span><%= p.read_time || 5 %> min</span><span class=\"blog-card__read\">Read â†’</span></div></div>\n        </a>\n        <% }); %>\n    </div>\n</div>", "destinations-list": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ Destinations</div><h1>Treatment <em>Destinations</em></h1><p>World-class healthcare across 5 countries â€” find the best fit for your needs</p></div></div>\n<div class=\"section\">\n    <div class=\"dest-grid\">\n        <% destinations.forEach((d, i) => { %>\n        <a href=\"/destinations/<%= d.slug %>/\" class=\"dest-card\">\n            <div class=\"dest-card__bg\" style=\"background:linear-gradient(135deg,<%= ['#1a5276','#922B21','#1A5276','#7D6608','#1A5276'][i%5] %>,#0B2545)\"></div>\n            <div class=\"dest-card__overlay\"></div>\n            <div class=\"dest-card__body\"><span class=\"dest-card__flag\"><%= d.flag %></span><div class=\"dest-card__name\"><%= d.name %></div><div class=\"dest-card__count\"><%= d.hospital_count %>+ hospitals Â· Save <%= d.avg_savings %></div></div>\n        </a>\n        <% }); %>\n    </div>\n</div>", "specialties-list": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ Specialties</div><h1>Medical <em>Specialties</em></h1><p>Browse <%= specialties.length %> specialties â€” from routine procedures to the most complex surgeries</p></div></div>\n<div class=\"section\">\n    <div class=\"spec-scroll\">\n        <% specialties.forEach(s => { %>\n        <a href=\"/specialties/<%= s.slug %>/\" class=\"spec-card\"><span class=\"spec-card__icon\"><%= s.icon %></span><div class=\"spec-card__name\"><%= s.name %></div></a>\n        <% }); %>\n    </div>\n</div>", "results": "<div class=\"page-hero\"><div class=\"page-hero__inner\"><div class=\"page-hero__breadcrumb\"><a href=\"/\">Home</a> â†’ Results</div><h1>Real Patients. <em>Real Results.</em></h1><p>Hear from the people we've helped</p></div></div>\n<div class=\"section\">\n    <div class=\"test-grid\">\n        <% testimonials.forEach(t => { %>\n        <div class=\"test-card\"><div class=\"test-card__quote-mark\">â</div><div class=\"test-card__stars\"><%= 'â˜…'.repeat(t.rating) %></div><div class=\"test-card__text\">\"<%= t.quote %>\"</div>\n        <div class=\"test-card__author\"><div class=\"test-card__avatar\" style=\"background:<%= t.avatar_color || 'linear-gradient(135deg,#2563EB,#1E40AF)' %>\"><%= t.patient_name.split(' ').map(n=>n[0]).join('') %></div><div><div class=\"test-card__name\"><%= t.patient_name %></div><div class=\"test-card__meta\"><%= t.patient_flag %> <%= t.patient_country %> Â· <%= t.specialty %> Â· <%= t.destination %></div></div></div></div>\n        <% }); %>\n    </div>\n</div>", "get-quote": "<!-- Get Quote form template -->", "cost-calculator": "<!-- Cost Calculator template -->", "contact": "<!-- Contact page template -->"}</script>
<script>
// Load defaults from embedded JSON
var DEFAULTS = JSON.parse(document.getElementById("tpl-defaults").textContent);
var curCat = 'detail';
var saved = {};
var T = [
{key:'blog-detail',label:'Blog Post',cat:'detail',icon:'ğŸ“',desc:'Single blog article page',vars:'post.title,post.content,post.excerpt,post.author_name,post.read_time,post.category,post.cover_image'},
{key:'destination-detail',label:'Destination',cat:'detail',icon:'ğŸŒ',desc:'Country/destination page with hospitals & doctors',vars:'destination.name,destination.flag,destination.tagline,destination.description,destination.hospital_count,destination.doctor_count,destination.avg_savings,hospitals[],doctors[]'},
{key:'specialty-detail',label:'Specialty',cat:'detail',icon:'ğŸ·ï¸',desc:'Specialty page with treatments listed',vars:'specialty.name,specialty.icon,specialty.description,specialty.long_description,treatments[]'},
{key:'treatment-detail',label:'Treatment',cat:'detail',icon:'ğŸ’Š',desc:'Treatment page with costs by destination',vars:'treatment.name,treatment.description,treatment.long_description,treatment.cost_range_usd,treatment.duration,treatment.recovery_time,treatment.specialty_icon,costs[]'},
{key:'hospital-detail',label:'Hospital',cat:'detail',icon:'ğŸ¥',desc:'Hospital profile page with doctors',vars:'hospital.name,hospital.description,hospital.city,hospital.country,hospital.beds,hospital.established,hospital.rating,hospital.accreditations,doctors[]'},
{key:'doctor-detail',label:'Doctor',cat:'detail',icon:'ğŸ‘¨â€âš•ï¸',desc:'Doctor profile page',vars:'doctor.name,doctor.title,doctor.specialty,doctor.experience_years,doctor.description,doctor.qualifications,doctor.hospital_name,doctor.hospital_slug'},
{key:'blog-list',label:'Blog Listing',cat:'listing',icon:'ğŸ“',desc:'Blog index page with all posts',vars:'posts[].title,posts[].slug,posts[].excerpt,posts[].category,posts[].read_time'},
{key:'destinations-list',label:'Destinations Listing',cat:'listing',icon:'ğŸŒ',desc:'All destinations overview page',vars:'destinations[].name,destinations[].slug,destinations[].flag,destinations[].hospital_count,destinations[].avg_savings'},
{key:'specialties-list',label:'Specialties Listing',cat:'listing',icon:'ğŸ·ï¸',desc:'All specialties overview page',vars:'specialties[].name,specialties[].slug,specialties[].icon'},
{key:'results',label:'Results / Testimonials',cat:'listing',icon:'â­',desc:'Patient testimonials page',vars:'testimonials[].patient_name,testimonials[].quote,testimonials[].rating,testimonials[].specialty,testimonials[].destination'},
{key:'get-quote',label:'Get Quote Form',cat:'page',icon:'ğŸ“‹',desc:'Multi-step quote request form',vars:'treatments[],destinations[],specialties[]'},
{key:'cost-calculator',label:'Cost Calculator',cat:'page',icon:'ğŸ§®',desc:'Interactive cost calculator page',vars:'treatments[],destinations[]'},
{key:'contact',label:'Contact Page',cat:'page',icon:'ğŸ“',desc:'Contact us page with form',vars:''}
];

function switchCat(cat, el) {
    curCat = cat;
    document.querySelectorAll('.tt-tab').forEach(function(t){t.classList.remove('active')});
    el.classList.add('active');
    render();
}

function esc(s) {
    var d = document.createElement('div');
    d.textContent = s || '';
    return d.innerHTML;
}

function render() {
    var c = document.getElementById('container');
    var h = '';
    for (var i = 0; i < T.length; i++) {
        var t = T[i];
        if (t.cat !== curCat) continue;
        var s = saved[t.key];
        var html = s ? s.html_template : (DEFAULTS[t.key] || '<!-- Edit this template for ' + t.label + ' pages -->');
        var css = s ? (s.css || '') : '';
        var on = s ? s.is_active : true;
        var when = s ? new Date(s.updated_at).toLocaleString() : 'Never (using default)';
        var vars = t.vars ? t.vars.split(',') : [];

        h += '<div class="tt-card" id="card-' + t.key + '">';

        // Header
        h += '<div class="tt-hdr"><div>';
        h += '<div class="tt-hdr-title">' + t.icon + ' ' + t.label + '</div>';
        h += '<div class="tt-hdr-desc">' + t.desc + '</div>';
        h += '</div><div class="tt-hdr-acts">';
        h += '<div class="tt-toggle' + (on ? ' on' : '') + '" onclick="this.classList.toggle(\'on\')"></div>';

        h += '<button class="btn-save" onclick="doSave(\'' + t.key + '\')">ğŸ’¾ Save</button>';
        if (s) h += ' <button class="btn-rst" onclick="doReset(\'' + t.key + '\')">â†© Reset</button>';
        h += '</div></div>';

        // Variables
        if (vars.length > 0 && vars[0]) {
            h += '<div class="tt-vars"><b>Variables:</b>';
            for (var v = 0; v < vars.length; v++) {
                h += '<span class="tt-var" onclick="cpVar(\'' + vars[v] + '\',this)">{{ ' + vars[v] + ' }}</span>';
            }
            h += '</div>';
        }

        // HTML Editor
        h += '<div class="tt-editor"><textarea id="html-' + t.key + '" placeholder="Enter HTML template...">' + esc(html) + '</textarea></div>';

        // CSS Editor
        h += '<div class="tt-css-hdr">Custom CSS (optional)</div>';
        h += '<div class="tt-editor tt-css"><textarea id="css-' + t.key + '" placeholder="/* Custom CSS */">' + esc(css) + '</textarea></div>';

        // Footer
        h += '<div class="tt-foot"><span>Last saved: ' + when + '</span><span class="tt-saved" id="sv-' + t.key + '">âœ… Saved!</span></div>';
        h += '</div>';
    }
    c.innerHTML = h;
}

async function doSave(key) {
    var t = T.find(function(x){return x.key===key});
    var htmlVal = document.getElementById('html-' + key).value;
    var cssVal = document.getElementById('css-' + key).value;
    var card = document.getElementById('card-' + key);
    var on = card.querySelector('.tt-toggle').classList.contains('on');
    try {
        var r = await fetch('/api/theme-templates/' + key, {
            method: 'PUT',
            headers: {'Content-Type':'application/json'},
            body: JSON.stringify({ label:t.label, category:t.cat, description:t.desc, html_template:htmlVal, css:cssVal, is_active:on })
        });
        if (r.ok) {
            var d = await r.json();
            saved[key] = d;
            var el = document.getElementById('sv-' + key);
            el.style.display = 'inline';
            setTimeout(function(){el.style.display='none'},3000);
        } else { alert('Save failed'); }
    } catch(e) { alert('Error: ' + e.message); }
}

async function doReset(key) {
    if (!confirm('Reset to default? Your custom changes will be lost.')) return;
    try {
        await fetch('/api/theme-templates/' + key, {method:'DELETE'});
        delete saved[key];
        render();
    } catch(e) { alert('Error: ' + e.message); }
}

function cpVar(v, el) {
    navigator.clipboard.writeText('{{' + v + '}}');
    el.style.background = '#0EA5A0';
    el.style.color = '#fff';
    el.style.borderColor = '#0EA5A0';
    setTimeout(function(){el.style.background='';el.style.color='';el.style.borderColor=''},800);
}

// Load saved templates then render
(async function(){
    try {
        var r = await fetch('/api/theme-templates');
        if (r.ok) {
            var data = await r.json();
            data.forEach(function(t){saved[t.template_key]=t});
        }
    } catch(e) { console.log('Templates API not available yet'); }
    render();
})();
</script>
</body></html>
