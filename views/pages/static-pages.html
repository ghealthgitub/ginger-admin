<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Static Pages | Ginger Admin</title><link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/admin.css"><link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet">
<style>.ql-editor{min-height:250px;font-size:.92rem;line-height:1.7;font-family:"DM Sans",sans-serif}.ql-toolbar{border-color:var(--gray-200)!important;background:var(--gray-50);border-radius:8px 8px 0 0}.ql-container{border-color:var(--gray-200)!important;border-radius:0 0 8px 8px}</style>
</head><body><div class="layout"><aside class="sidebar" id="sidebar"></aside>
<main class="main"><header class="topbar"><button class="topbar__menu" onclick="document.getElementById('sidebar').classList.toggle('open')">â˜°</button><h1 class="topbar__title">ðŸ“„ Static Pages</h1></header><div class="content"><div class="card"><div class="card__body"><table class="data-table"><thead><tr><th>Page</th><th>URL</th><th>Type</th><th>Status</th><th>Actions</th></tr></thead><tbody id="list"><tr><td colspan="5" class="loading">Loading...</td></tr></tbody></table></div></div></div>
<div class="modal-overlay" id="modal"><div class="modal"><div class="modal__header"><h3 id="modalTitle">Edit Page</h3><button class="modal__close" onclick="closeModal()">âœ•</button></div><div class="modal__body">
<div class="form-group"><label class="form-label">Title</label><input type="text" class="form-input" id="f_title"></div>
<div class="form-group"><label class="form-label">Hero Title</label><input type="text" class="form-input" id="f_hero"></div>
<div class="form-group"><label class="form-label">Hero Description</label><textarea class="form-textarea" id="f_herodesc" style="min-height:60px"></textarea></div>
<div class="form-group"><label class="form-label">Page Content (HTML)</label><textarea class="form-textarea" id="f_content" style="min-height:200px"></textarea></div>
<div class="form-row"><div class="form-group"><label class="form-label">Meta Title</label><input type="text" class="form-input" id="f_meta"></div><div class="form-group"><label class="form-label">Status</label><select class="form-select" id="f_status"><option value="published">Published</option><option value="draft">Draft</option></select></div></div>
</div><div class="modal__footer"><button class="btn btn--outline" onclick="closeModal()">Cancel</button><button class="btn btn--primary" onclick="saveItem()">Save</button></div></div></div></main></div>
<script>let items=[];
async function load(){const r=await fetch('/api/static-pages');items=await r.json();const tb=document.getElementById('list');
const typeColors={page:'#DBEAFE',legal:'#E5E7EB',form:'#D1FAE5',landing:'#FEF3C7'};
tb.innerHTML=items.map(p=>`<tr><td><strong>${p.title}</strong></td><td style="font-size:.82rem;color:var(--gray-400)">/${p.slug}/</td><td><span class="badge" style="background:${typeColors[p.page_type]||'#E5E7EB'}">${p.page_type}</span></td><td><span class="badge badge--${p.status}">${p.status}</span></td><td><button class="btn btn--outline btn--sm" onclick="editItem(${p.id})">Edit</button></td></tr>`).join('')}
function closeModal(){document.getElementById('modal').classList.remove('open')}
async function editItem(id){const r=await fetch('/api/static-pages/'+id);const p=await r.json();document.getElementById('modal').classList.add('open');document.getElementById('modalTitle').textContent='Edit: '+p.title;document.getElementById('f_title').value=p.title||'';document.getElementById('f_hero').value=p.hero_title||'';document.getElementById('f_herodesc').value=p.hero_description||'';document.getElementById('f_content').value=p.content||'';document.getElementById('f_meta').value=p.meta_title||'';document.getElementById('f_status').value=p.status;document.getElementById('modal').dataset.id=id}
async function saveItem(){const id=document.getElementById('modal').dataset.id;const data={title:document.getElementById('f_title').value,hero_title:document.getElementById('f_hero').value,hero_description:document.getElementById('f_herodesc').value,content:document.getElementById('f_content').value,meta_title:document.getElementById('f_meta').value,status:document.getElementById('f_status').value};
const r=await fetch('/api/static-pages/'+id,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(r.ok){closeModal();load()}else{alert('Error')}}
load();</script><script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>
<script>
let quillContent;
function initQuill(){if(quillContent)return;quillContent=new Quill('#f_content_editor',{theme:'snow',placeholder:'Write page content...',modules:{toolbar:[['bold','italic','underline'],[{'header':[1,2,3,false]}],[{'list':'ordered'},{'list':'bullet'}],['blockquote'],['link','image'],[{'align':[]}],['clean']]}})}
const origOpen=openModal;openModal=function(){origOpen();setTimeout(initQuill,100)};
const origEdit=editItem;editItem=function(id){origEdit(id);setTimeout(()=>{initQuill();const s=items.find(i=>i.id===id);if(s&&quillContent)quillContent.root.innerHTML=s.content||''},150)};
</script>
<script src="/js/sidebar.js"></script>
</body></html>
