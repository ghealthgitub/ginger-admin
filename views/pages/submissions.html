<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/admin.css"><title>Submissions | Ginger Admin</title></head><body><div class="layout"><aside class="sidebar" id="sidebar"><div class="sidebar__logo"><div class="sidebar__logo-icon">G</div><div class="sidebar__logo-text"><span>Ginger</span> <span>Admin</span></div></div><nav class="sidebar__nav"><a href="/" class="sidebar__link" data-page="dashboard"><span class="sidebar__link-icon">ğŸ“Š</span> Dashboard</a><div class="sidebar__section">Content</div><a href="/blog" class="sidebar__link"><span class="sidebar__link-icon">ğŸ“</span> Blog Posts</a><a href="/specialties-mgmt" class="sidebar__link"><span class="sidebar__link-icon">ğŸ·ï¸</span> Specialties</a><a href="/treatments" class="sidebar__link"><span class="sidebar__link-icon">ğŸ’Š</span> Treatments</a><a href="/destinations-mgmt" class="sidebar__link"><span class="sidebar__link-icon">ğŸŒ</span> Destinations</a><a href="/hospitals" class="sidebar__link"><span class="sidebar__link-icon">ğŸ¥</span> Hospitals</a><a href="/doctors" class="sidebar__link"><span class="sidebar__link-icon">ğŸ‘¨â€âš•ï¸</span> Doctors</a><a href="/testimonials" class="sidebar__link"><span class="sidebar__link-icon">â­</span> Testimonials</a><div class="sidebar__section">Management</div><a href="/costs" class="sidebar__link"><span class="sidebar__link-icon">ğŸ’°</span> Cost Manager</a><a href="/submissions" class="sidebar__link"><span class="sidebar__link-icon">ğŸ“‹</span> Submissions</a><a href="/static-pages" class="sidebar__link"><span class="sidebar__link-icon">ğŸ“„</span> Static Pages</a><a href="/page-content" class="sidebar__link"><span class="sidebar__link-icon">ğŸ”§</span> Page Content</a><a href="/media" class="sidebar__link"><span class="sidebar__link-icon">ğŸ–¼ï¸</span> Media Library</a><div class="sidebar__section">Tools</div><a href="/ai-assistant" class="sidebar__link"><span class="sidebar__link-icon">ğŸ¤–</span> Claude AI</a><a href="/users" class="sidebar__link"><span class="sidebar__link-icon">ğŸ‘¥</span> Users</a></nav><div class="sidebar__footer"><div class="sidebar__user"><div class="sidebar__user-avatar" id="userAvatar">SA</div><div class="sidebar__user-info"><div class="sidebar__user-name" id="userName">Admin</div><div class="sidebar__user-role" id="userRole">-</div></div></div><a href="/logout" class="sidebar__logout">Logout â†’</a></div></aside><main class="main"><header class="topbar"><button class="topbar__menu" onclick="document.getElementById('sidebar').classList.toggle('open')">â˜°</button><h1 class="topbar__title">Form Submissions</h1></header><div class="content"><div class="toolbar"><select class="form-select" style="width:auto" id="typeFilter" onchange="load()"><option value="">All Types</option><option value="quote">Quotes</option><option value="consultation">Consultations</option><option value="contact">Contact</option><option value="partner">Partner</option><option value="career">Career</option></select><select class="form-select" style="width:auto" id="statusFilter" onchange="load()"><option value="">All Status</option><option value="new">New</option><option value="in_progress">In Progress</option><option value="responded">Responded</option><option value="closed">Closed</option></select></div><div class="card"><div class="card__body"><table class="data-table"><thead><tr><th>Type</th><th>Name</th><th>Email</th><th>Treatment</th><th>Status</th><th>Date</th><th>Actions</th></tr></thead><tbody id="list"><tr><td colspan="7" class="loading">Loading...</td></tr></tbody></table></div></div></div></main></div><script>
async function load(){const type=document.getElementById('typeFilter').value;const status=document.getElementById('statusFilter').value;let url='/api/submissions?';if(type)url+='type='+type+'&';if(status)url+='status='+status;
const r=await fetch(url);const items=await r.json();const tb=document.getElementById('list');
if(!items.length){tb.innerHTML='<tr><td colspan="7" class="empty-state">No submissions</td></tr>';return}
tb.innerHTML=items.map(s=>`<tr><td><span class="badge badge--${s.form_type}" style="background:var(--gray-100);color:var(--navy)">${s.form_type}</span></td><td>${s.name||'-'}</td><td>${s.email||'-'}</td><td>${s.treatment||'-'}</td><td><select class="form-select" style="padding:4px 8px;font-size:.78rem;width:auto" onchange="updateStatus(${s.id},this.value)"><option value="new" ${s.status==='new'?'selected':''}>New</option><option value="in_progress" ${s.status==='in_progress'?'selected':''}>In Progress</option><option value="responded" ${s.status==='responded'?'selected':''}>Responded</option><option value="closed" ${s.status==='closed'?'selected':''}>Closed</option></select></td><td style="font-size:.82rem">${new Date(s.created_at).toLocaleDateString()}</td><td><button class="btn btn--outline btn--sm" onclick="viewDetails(${s.id})">View</button></td></tr>`).join('')}
async function updateStatus(id,status){await fetch('/api/submissions/'+id,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({status})})}
function viewDetails(id){alert('Full detail view coming soon!')}
load();</script></body></html>
