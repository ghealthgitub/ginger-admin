<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Settings | Ginger Admin</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/admin.css">
<style>.settings-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}.settings-card{background:var(--white);border:1px solid var(--gray-200);border-radius:12px;padding:24px}.settings-card h3{font-family:'Playfair Display',serif;color:var(--navy);margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--gray-100)}.saved-msg{position:fixed;top:80px;right:20px;background:#059669;color:#fff;padding:12px 24px;border-radius:8px;font-weight:600;z-index:1000;display:none;animation:slideIn .3s}@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}@media(max-width:768px){.settings-grid{grid-template-columns:1fr}}</style>
<script src="/js/sidebar.js" defer></script>
</head><body><div class="layout"><aside class="sidebar" id="sidebar"></aside>

<main class="main"><header class="topbar"><button class="topbar__menu" onclick="document.getElementById('sidebar').classList.toggle('open')">â˜°</button><h1 class="topbar__title">âš™ï¸ Site Settings</h1><div class="topbar__actions"><button class="btn btn--primary" onclick="saveAll()">ğŸ’¾ Save All Settings</button></div></header>
<div class="content">
<div id="savedMsg" class="saved-msg">âœ… Settings saved successfully!</div>

<div class="settings-grid">
    <!-- Company Info -->
    <div class="settings-card">
        <h3>ğŸ¢ Company Information</h3>
        <div class="form-group"><label class="form-label">Company Name</label><input class="form-input" id="s_company_name" value="Ginger Healthcare"></div>
        <div class="form-group"><label class="form-label">Tagline</label><input class="form-input" id="s_tagline" placeholder="World-Class Medical Care. 60-90% Less."></div>
        <div class="form-group"><label class="form-label">Address</label><textarea class="form-textarea" id="s_address" style="min-height:60px"></textarea></div>
        <div class="form-group"><label class="form-label">Copyright Text</label><input class="form-input" id="s_copyright" placeholder="Â© 2025 Ginger Healthcare"></div>
    </div>

    <!-- Contact Info -->
    <div class="settings-card">
        <h3>ğŸ“ Contact Information</h3>
        <div class="form-group"><label class="form-label">Email</label><input class="form-input" id="s_email" type="email" placeholder="info@ginger.healthcare"></div>
        <div class="form-group"><label class="form-label">Phone</label><input class="form-input" id="s_phone" placeholder="+91 1234567890"></div>
        <div class="form-group"><label class="form-label">WhatsApp Number (with country code)</label><input class="form-input" id="s_whatsapp" placeholder="911234567890"></div>
        <div class="form-group"><label class="form-label">Support Hours</label><input class="form-input" id="s_support_hours" placeholder="24/7"></div>
    </div>

    <!-- Social Links -->
    <div class="settings-card">
        <h3>ğŸŒ Social Media Links</h3>
        <div class="form-group"><label class="form-label">ğŸ“˜ Facebook URL</label><input class="form-input" id="s_facebook" placeholder="https://facebook.com/..."></div>
        <div class="form-group"><label class="form-label">ğŸ“¸ Instagram URL</label><input class="form-input" id="s_instagram" placeholder="https://instagram.com/..."></div>
        <div class="form-group"><label class="form-label">ğŸ¦ Twitter / X URL</label><input class="form-input" id="s_twitter" placeholder="https://x.com/..."></div>
        <div class="form-group"><label class="form-label">ğŸ’¼ LinkedIn URL</label><input class="form-input" id="s_linkedin" placeholder="https://linkedin.com/company/..."></div>
        <div class="form-group"><label class="form-label">ğŸ“º YouTube URL</label><input class="form-input" id="s_youtube" placeholder="https://youtube.com/..."></div>
    </div>

    <!-- Site Settings -->
    <div class="settings-card">
        <h3>ğŸ”§ Site Configuration</h3>
        <div class="form-group"><label class="form-label">Google Analytics ID</label><input class="form-input" id="s_ga_id" placeholder="G-XXXXXXXXXX"></div>
        <div class="form-group"><label class="form-label">Google Search Console Verification</label><input class="form-input" id="s_gsc" placeholder="Verification meta tag content"></div>
        <div class="form-group"><label class="form-label">Default SEO Title Suffix</label><input class="form-input" id="s_seo_suffix" placeholder="| Ginger Healthcare"></div>
        <div class="form-group"><label class="form-label">Patients Count (for display)</label><input class="form-input" id="s_patient_count" placeholder="5,000+"></div>
        <div class="form-group"><label class="form-label">Countries Count</label><input class="form-input" id="s_country_count" placeholder="60+"></div>
    </div>
</div>
</div></main></div>

<script>
const settingsFields = [
    's_company_name','s_tagline','s_address','s_copyright',
    's_email','s_phone','s_whatsapp','s_support_hours',
    's_facebook','s_instagram','s_twitter','s_linkedin','s_youtube',
    's_ga_id','s_gsc','s_seo_suffix','s_patient_count','s_country_count'
];

async function loadSettings() {
    try {
        const r = await fetch('/api/settings');
        const settings = await r.json();
        settings.forEach(s => {
            const el = document.getElementById('s_' + s.field_key);
            if (el) el.value = s.field_value || '';
        });
    } catch(e) { console.error('Load settings error:', e); }
}

async function saveAll() {
    const data = {};
    settingsFields.forEach(id => {
        const key = id.replace('s_', '');
        const el = document.getElementById(id);
        if (el) data[key] = el.value;
    });
    try {
        const r = await fetch('/api/settings', {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });
        if (r.ok) {
            const msg = document.getElementById('savedMsg');
            msg.style.display = 'block';
            setTimeout(() => msg.style.display = 'none', 3000);
        } else { alert('Save failed'); }
    } catch(e) { alert('Save error'); }
}

// Load user
// Auth handled by sidebar.js;

loadSettings();
</script>
</body></html>
